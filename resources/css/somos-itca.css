/* Estilos específicos para la página Somos ITCA */

/* Main / Intro Section */
.main-section,
.main-content-section {
    background-color: #010C42;
    padding: 100px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.main-content-section {
    padding-top: 0;
    /* Margen negativo fluido para subir la sección y reducir el gap visual */
    margin-top: clamp(-40px, calc(-40px + (100vw - 1100px) * 0.0305), -15px);
    position: relative;
    z-index: 5;
    /* Asegurar que quede encima si hay solapamiento */
}

.main-content {
    width: 100%;
    /* Mismo ancho fluido que la sección de contacto, ajustado a 1597px para la imagen */
    max-width: clamp(1070px, 85vw, 1597px);
    margin: 0 auto;
    padding: 0 20px;
    /* Padding base de seguridad */
}

.main-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 400;
    color: #FFFFFF;
    line-height: 1.1;
    margin: 0;
    /* Fluidez desde 1100px (32px) hasta 1920px (44px) */
    font-size: clamp(32px, calc(32px + (100vw - 1100px) * 0.0146), 44px);

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.1em;
}

.main-title-line-1 {
    display: block;
}

.main-title-line-2 {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 0.3em;
}

.main-image-container {
    width: 100%;
    margin-top: 50px;
    /* Separación del título */
    display: flex;
    justify-content: center;
    position: relative;
    /* Para posicionar los decorativos absolutos */
    overflow: visible;
    /* Permitir que sobresalgan */
}

.main-hero-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    /* Asegura que mantenga sus proporciones */
    display: block;
    position: relative;
    z-index: 1;
}

.deco-1 {
    position: absolute;
    /* Ajustar posición para que "sobresalga arriba y a la izquierda" */
    top: -15%;
    left: -5%;
    width: 15%;
    /* Tamaño relativo al contenedor */
    height: auto;
    z-index: 2;
    /* Encima de la imagen */
    pointer-events: none;
}

.deco-2 {
    position: absolute;
    /* Ajustar posición para que "sobresalga abajo a la derecha" */
    bottom: -8%;
    right: -3%;
    width: 6%;
    /* Bastante más chico */
    height: auto;
    z-index: 2;
    pointer-events: none;
}

/* El highlight "Nuestro compromiso" */
.highlight {
    color: #010C42;
    /* Azul ITCA sobre el stroke claro */
    font-weight: 600;
    /* Semi-Bold */
    text-transform: lowercase;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    white-space: nowrap;
    /* Ajuste fino del padding para que el texto respire dentro del stroke */
    padding: 0 0.2em;
}

.highlight::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    /* Width: interpolación lineal de ~360px en 1100px a 500px en 1920px */
    width: clamp(360px, calc(360px + (100vw - 1100px) * 0.1707), 500px);
    height: clamp(45px, calc(45px + (100vw - 1100px) * 0.0305), 70px);
    background-image: url('/images/desktop/stroke-somos.png');
    background-size: 100% 100%;
    background-repeat: no-repeat;
    background-position: center;
    z-index: -1;
    pointer-events: none;
}

/* Media Queries */
@media (min-width: 600px) and (max-width: 1099px) {
    .main-content {
        max-width: clamp(600px, 55vw, 700px);
    }

    .highlight::before {
        /* Height: 30px (600px) -> 45px (1099px) */
        height: clamp(30px, calc(30px + (100vw - 600px) * 0.0301), 45px);
    }

    .main-title {
        /* Fuente fluida basada en viewport: 22px mín -> 30px máx */
        font-size: clamp(22px, 2.5vw, 30px);
    }

    /* Ajustar spacing en tablet */
    .main-section {
        padding: 40px 0;
        /* Padding moderado para la primera sección */
    }

    .main-content-section {
        padding-top: 40px;
        padding-bottom: 40px;
        margin-top: 0;
        /* Resetear el margin negativo que es solo para desktop */
    }
}

@media (max-width: 599px) {
    .somos-itca-container {
        padding-left: 0;
        padding-right: 0;
    }

    .main-content {
        max-width: 100%;
        padding: 0 20px;
    }

    .main-section {
        padding: 20px 0 20px 0;
    }

    .main-content-section {
        margin-top: 0;
        padding-top: 20px;
        padding-bottom: 60px;
    }

    .main-title {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        /* Fluidez: 18px en 320px -> 22px en 430px */
        font-size: clamp(18px, calc(18px + (22 - 18) * ((100vw - 320px) / 110)), 22px);
        margin-bottom: 25px;
        line-height: 1.2;
        gap: 2px;
        /* Espacio entre renglones */
    }

    .main-title-line-1,
    .main-title-line-3 {
        font-weight: 400;
        /* Regular */
        color: #ffffff;
        display: block;
    }

    .main-title-line-2 {
        display: block;
    }

    .main-title-line-2 .highlight {
        color: #010C42;
        font-weight: 600;
        /* Semi-bold */
        font-family: 'Montserrat', sans-serif;
        text-transform: none;
        /* Mantener casing original */
    }

    .intro-text {
        text-align: center;
        font-size: 16px;
        line-height: 1.5;
    }

    .main-image-container {
        margin-top: 30px;
        width: 100%;
        display: flex;
        justify-content: center;
    }

    .main-hero-image {
        /* Fluidez: 299px en 320px -> 402px en 430px */
        width: clamp(299px, calc(299px + 103 * (100vw - 320px) / 110), 402px);
        height: auto;
        aspect-ratio: 402 / 174;
        object-fit: cover;
        border-radius: 10px;
        /* Opcional: suavizar bordes */
    }

    /* Restaurar decos y ajustarlos para mobile */
    .deco-1 {
        display: block;
        /* Fluidez: 65px en 320px -> 85px en 430px */
        width: clamp(65px, calc(65px + (85 - 65) * ((100vw - 320px) / 110)), 85px);
        top: -12%;
        z-index: 2;
    }

    .deco-2 {
        display: block;
        /* Fluidez: 35px en 320px -> 48px en 430px */
        width: clamp(35px, calc(35px + (48 - 35) * ((100vw - 320px) / 110)), 48px);
        bottom: -6%;
        z-index: 2;
    }

    .highlight::before {
        height: clamp(30px, 8vw, 38px);
        bottom: auto;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 115% !important;
    }
}

/* Tablet: 600px - 1099px */
@media (min-width: 600px) and (max-width: 1099px) {
    .highlight::before {
        /* Stroke proporcional escalando de 250px a 325px */
        /* 600px: 250px (min) | 1099px: 325px (29.6vw) */
        width: clamp(250px, 29.6vw, 325px);
    }
}

/* Info Dropdown Styles */
.info-dropdown {
    width: 100%;
    margin-bottom: 20px;
    /* Mover borde al contenedor principal para que el contenido quede "dentro" */
    border: 1px solid #65E09C;
    border-radius: 10px;
    overflow: hidden;
    /* Para recortar el contenido en las esquinas */
    transition: all 0.3s ease;
}

.info-dropdown-header {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    /* Texto centrado */
    padding: 20px 20px;
    padding-bottom: clamp(20px, 2.08vw, 40px);
    cursor: pointer;
    /* El borde ahora es del padre */
}

.info-dropdown-title {
    font-family: 'Special Gothic Expanded One', sans-serif;
    color: #65E09C;
    font-weight: 400;
    /* Regular */
    /* Fluidez: 30px(1100) -> 40px(1920) */
    font-size: clamp(30px, calc(30px + (100vw - 1100px) * 0.0122), 40px);
    text-align: center;
}


.info-dropdown-chevron {
    position: absolute;
    /* Padding derecho fluido */
    right: clamp(20px, 3vw, 40px);
    transition: transform 0.3s ease;
    width: 25px;
    height: auto;
}

.info-dropdown.active .info-dropdown-chevron {
    transform: rotate(180deg);
}

@media (max-width: 599px) {
    .info-dropdown-title {
        /* Fluidez: 14px en 320px -> 20px en 430px */
        font-size: clamp(14px, calc(14px + (20 - 14) * ((100vw - 320px) / 110)), 20px);
    }

    .info-dropdown-chevron {
        /* Fluidez: 16px en 320px -> 20px en 430px */
        width: clamp(16px, calc(16px + (20 - 16) * ((100vw - 320px) / 110)), 20px);
    }
}

.info-dropdown-content {
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    /* Inicio de padding bottom en 0 para que la expansión sea desde colapsado total */
    padding-bottom: 0;
    padding-left: 40px;
    padding-right: 40px;
    /* Curva cubic-bezier para suavizar (ease-out-quad modificada) */
    transition: max-height 0.6s cubic-bezier(0.25, 0.8, 0.25, 1),
        opacity 0.6s ease-in-out,
        padding 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.info-dropdown.active .info-dropdown-content {
    max-height: 2500px;
    /* Suficiente para carruseles y listas */
    opacity: 1;
    padding-bottom: 30px;
}

/* Estilos para el Dropdown "¿Qué es ITCA?" */
.que-es-itca-grid {
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.itca-video {
    width: 100%;
    height: auto;
    border-radius: 8px;
    display: block;
    max-width: 100%;
}

.video-placeholder-empty {
    width: 100%;
    aspect-ratio: 16/9;
    background-color: #333;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #888;
    border-radius: 8px;
}

.itca-text {
    font-family: 'Montserrat', sans-serif;
    color: white;
    font-weight: 400;
    /* Regular */
    line-height: 1.6;
    margin-bottom: 20px;
    /* Fluido: 18px en 1920px -> 12px en 1100px */
    font-size: clamp(12px, calc(12px + (100vw - 1100px) * 0.0073), 18px);
}

.itca-text strong {
    font-weight: 700;
    /* Bold */
}

/* Desktop layout >= 1100px */
@media (min-width: 1100px) {
    .que-es-itca-grid {
        display: grid;
        grid-template-columns: 1.2fr 1fr;
        /* Relación aprox para video prominente */
        gap: 40px;
        align-items: center;
    }

    .itca-video {
        /* Intento de respetar max-width relativo a 1920 pero fluido */
        /* 727px @ 1920sw */
        width: 100%;
        max-width: 727px;
    }
}

/* Estilos para "Por qué elegirnos" */
.por-que-grid {
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.por-que-main-img {
    width: 100%;
    height: auto;
    border-radius: 8px;
    object-fit: cover;
}

.por-que-img-placeholder {
    width: 100%;
    height: 300px;
    background-color: #333;
    color: #666;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
}

.por-que-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.por-que-item {
    display: flex;
    align-items: center;
    /* Alineación vertical ícono/texto */
    gap: 15px;
}

.por-que-icon {
    /* Icono fluido aprox 50px */
    width: clamp(40px, 4vw, 60px);
    height: auto;
    flex-shrink: 0;
}

.por-que-text {
    font-family: 'Montserrat', sans-serif;
    color: white;
    font-weight: 700;
    /* Bold pedido */
    line-height: 1.2;
    /* Fluido: 25px en 1920px -> 12px en 1100px */
    font-size: clamp(12px, calc(12px + (100vw - 1100px) * 0.0159), 25px);
}

/* Desktop Layout */
@media (min-width: 1100px) {
    .por-que-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 50px;
        align-items: center;
    }

    /* Imagen a izquierda, Texto derecha */
    .por-que-img-col {
        order: 1;
    }

    .por-que-text-col {
        order: 2;
    }
}

/* Ajustes tamaño imagen por qué elegirnos */
@media (min-width: 1100px) {
    .por-que-main-img {
        width: 100%;
        max-width: 727px;
        /* Ancho máximo en desktop */
        height: auto;
        aspect-ratio: 727 / 399;
        /* Mantener proporción */
        object-fit: cover;
    }
}

/* Dimensiones específicas y fluidas para los iconos "Por Qué" */
/* Base en 1920px: ICO1 50px, ICO2 34px, ICO3 34px, ICO4 40px, ICO5 38px */

.por-que-item:nth-child(1) .por-que-icon {
    width: 2.6vw;
    /* 50/1920 */
    min-width: 35px;
    /* Evitar que sea microscópico en mobile */
}

.por-que-item:nth-child(2) .por-que-icon {
    width: 1.77vw;
    /* 34/1920 */
    min-width: 24px;
}

.por-que-item:nth-child(3) .por-que-icon {
    width: 1.77vw;
    /* 34/1920 */
    min-width: 24px;
}

.por-que-item:nth-child(4) .por-que-icon {
    width: 2.08vw;
    /* 40/1920 */
    min-width: 28px;
}

.por-que-item:nth-child(5) .por-que-icon {
    width: 1.98vw;
    /* 38/1920 */
    min-width: 26px;
}

/* Ajuste heights automáticos para mantener ratio */
.por-que-icon {
    height: auto;
    object-fit: contain;
}

/* Corrección de alineación Iconos y Texto */
.por-que-item {
    display: grid;
    /* Grid para mejor control que flex */
    grid-template-columns: 60px 1fr;
    /* Columna fija para centrar iconos visualmente si varian ancho */
    align-items: center;
    /* Centrado vertical */
    gap: 15px;
    text-align: left;
    /* Asegurar texto a izquierda */
}

/* Centrar el icono dentro de su celda de grid */
.por-que-item .por-que-icon {
    justify-self: center;
}

/* Forzar alineación de textos específicos */
.por-que-text {
    text-align: left !important;
    display: block;
}

/* Alineación texto "¿Qué es ITCA?" */
.itca-text {
    text-align: left;
}

@media (max-width: 599px) {
    .por-que-list {
        gap: 15px;
        margin-top: 20px;
    }

    .por-que-item {
        grid-template-columns: 45px 1fr;
        gap: 10px;
    }

    .por-que-text {
        /* Fluidez: 13px en 320px -> 14px en 430px */
        font-size: clamp(13px, calc(13px + (14 - 13) * ((100vw - 320px) / 110)), 14px);
        line-height: 1.3;
        overflow-wrap: break-word;
        word-break: break-word;
        -webkit-hyphens: auto;
        -ms-hyphens: auto;
        hyphens: auto;
    }

    /* Reglas para .text-col de "¿Qué es ITCA?" */
    .text-col {
        margin-top: 20px;
    }

    .itca-text {
        /* Fluidez: 12px en 320px -> 13px en 430px | Constante 13px de 430px a 599px */
        font-size: clamp(12px, calc(12px + (13 - 12) * ((100vw - 320px) / 110)), 13px);
        line-height: 1.5;
        margin-bottom: 15px;
        overflow-wrap: break-word;
        word-break: break-word;
        -webkit-hyphens: auto;
        -ms-hyphens: auto;
        hyphens: auto;
    }

    .itca-text-extra {
        display: none;
    }
}

/* Unificación de Grids para consistencia de ancho Video/Imagen */
@media (min-width: 1100px) {

    .que-es-itca-grid,
    .por-que-grid {
        display: grid;
        /* Definir columnas: Columna Media (Video/Img) - Columna Texto */
        /* Usamos 'max-content' o '1.3fr' para intentar igualar el ancho visual */
        /* Dado que queremos 727px de ancho objetivo, ajustaremos la proporción */
        grid-template-columns: 6fr 4fr;
        /* 60% - 40% aprox */
        gap: 50px;
        align-items: center;
    }

    .video-col,
    .por-que-img-col {
        width: 100%;
    }

    /* Asegurar que el video y la imagen llenen su celda de grid */
    .itca-video,
    .por-que-main-img {
        width: 100%;
        max-width: none;
        /* Quitamos max-width fijo para que responda al grid */
    }
}

/* Aumentar separación entre dropdowns (Headers) fluido */
.info-dropdown {
    /* De 20px en mobile a 50px en desktop grande, fluido */
    margin-bottom: clamp(20px, 3vw, 50px) !important;
}

/* --- INSTALACIONES CAROUSEL --- (Replaced grid with Swiper carousel) */

/* --- FORMADORES GRID --- */
.formadores-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-top: 20px;
    justify-items: center;
    /* Centrar items en su celda */
}

.formador-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    width: 100%;
}

.formador-img-container {
    width: 100px;
    /* Tamaño móvil base */
    height: 100px;
    border-radius: 50%;
    overflow: hidden;
    border: 3px solid #65E09C;
    /* Borde verde theme */
    margin-bottom: 15px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease;
}

.formador-item:hover .formador-img-container {
    transform: scale(1.05);
}

.formador-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.formador-name {
    font-family: 'Montserrat', sans-serif;
    color: white;
    font-weight: 600;
    font-size: clamp(14px, 1.5vw, 18px);
    margin: 0;
    line-height: 1.3;
}

@media (min-width: 600px) {
    .formadores-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .formador-img-container {
        width: 130px;
        height: 130px;
    }
}

@media (min-width: 1100px) {
    .formadores-grid {
        grid-template-columns: repeat(4, 1fr);
        /* 4 por fila */
        gap: 40px;
    }

    .formador-img-container {
        width: 160px;
        height: 160px;
    }
}

/* Corrección de padding móvil para Dropdowns */
@media (max-width: 599px) {
    .info-dropdown-content {
        padding-left: 15px;
        padding-right: 15px;
    }
}

/* Texto Instalaciones */
.instalaciones-text {
    font-family: 'Montserrat', sans-serif;
    color: white;
    font-weight: 500;
    /* Medium */
    line-height: 1.6;
    margin-bottom: 20px;
    /* Fluido 18px en 1920 -> 14px en 1100 (ajuste típico) */
    font-size: clamp(14px, calc(14px + (100vw - 1100px) * 0.0048), 18px);
    text-align: left;
}

/* Centrar texto Instalaciones */
/* Centrar texto Instalaciones */
.instalaciones-text {
    text-align: center;
}

@media (max-width: 599px) {
    .instalaciones-text {
        text-align: left;
        hyphens: auto;
        -webkit-hyphens: auto;
        -ms-hyphens: auto;
    }
}

/* Ajustes para el Carousel de Fotos dentro del Dropdown Instalaciones */


/* FEATURES/CARACTERÍSTICAS DE INSTALACIONES (Lista con estrellas) */
.instalaciones-features-container {
    width: 100%;
    margin: 40px auto 0;
    padding: 0 20px;
}

@media (min-width: 1100px) {
    .instalaciones-features-container {
        width: 100%;
        max-width: 100%;
        margin: 40px 0 0 0;
        padding: 0;
        display: grid;
        place-items: center;
        /* Centrado absoluto e infalible en Grid */
    }

    .instalaciones-list {
        /* Fluidez requerida: Max 700px en 1920px, reduciendo hacia 1100px */
        max-width: clamp(500px, calc(500px + (700 - 500) * ((100vw - 1100px) / (1920 - 1100))), 700px);
        width: fit-content;
        /* Clave para que el centrado sea real respecto al texto */
        margin: 0;
        padding: 0 !important;
    }
}

.instalaciones-list {
    list-style: none;
    padding: 0 !important;
    /* Forzar reseteo de padding lateral de UL */
    margin: 0;
    /* El centrado lo hace el padre flex */
    display: flex;
    flex-direction: column;
    gap: 15px;
    width: fit-content;
    padding-inline-start: 0;
    /* Reseteo moderno extra */
}

.instalaciones-item {
    display: flex;
    align-items: center;
    /* Alineación vertical al centro */
    gap: clamp(12px, 1.5vw, 22px);
    text-align: left;
    font-family: 'Montserrat', sans-serif;
    color: white;
    font-weight: 300;
    font-size: clamp(15px, calc(15px + (19 - 15) * ((100vw - 1100px) / (1920 - 1100))), 19px);
    line-height: 1.4;
}

.instalaciones-item strong {
    font-weight: 700;
}

.instalaciones-star {
    width: clamp(20px, 1.5vw, 28px);
    height: auto;
    flex-shrink: 0;
    margin-top: 0;
    /* Remover margin-top para que align-items: center funcione puro */
}

@media (min-width: 600px) and (max-width: 1099px) {

    /* Centrado específico para Tablet como pidió el usuario */
    .instalaciones-features-container {
        display: flex;
        justify-content: center;
    }

    .instalaciones-list {
        /* El truco: la lista es compacta (fit-content) y se centra como bloque */
        width: fit-content;
        align-items: flex-start;
        /* Alinea los items a la izquierda del bloque */
    }

    .instalaciones-item {
        width: 100%;
        /* Ocupa todo el ancho de la lista compacta */
        max-width: none;
        flex-direction: row;
        align-items: flex-start;
        text-align: left;
        gap: 15px;
    }
}

@media (max-width: 599px) {
    .instalaciones-features-container {
        margin: 20px auto 0;
        padding: 0 15px;
    }

    .instalaciones-list {
        margin: 0 auto;
        width: 100%;
    }

    .instalaciones-item {
        font-size: 14px;
        gap: 10px;
    }

}

/* Tablet (600-1099px) - FINAL FIX: VISIBILITY & STYLE (Class Based) */
/* Tablet (600-1099px) - Fix for Instalaciones Carousel to match Formadores */


/* Estilos para el texto de introducción de Formadores (similar a Instalaciones) */
.formadores-text-intro {
    font-family: 'Montserrat', sans-serif;
    font-size: clamp(14px, 2vw, 16px);
    line-height: 1.6;
    color: white;
    font-weight: 300;
    text-align: center;
    margin: 0 auto 40px;
    max-width: 90%;
}

.formadores-text-intro strong {
    font-weight: 700;
}

/* Ajuste mobile para que los saltos de línea no rompan el diseño en pantallas muy chicas */
@media (max-width: 599px) {
    .formadores-text-intro br {
        display: none;
        /* En mobile dejamos que el texto fluya natural */
    }

    .formadores-text-intro {
        text-align: left;
        margin: 0 0 20px;
        max-width: 100%;
        hyphens: auto;
        -webkit-hyphens: auto;
        -ms-hyphens: auto;
        overflow-wrap: break-word;
        /* Aseguramos que rompa si no soporta hyphens */
    }
}

/* =========================================
   Estilos específicos para Formadores
   ========================================= */

/* Replicar comportamiento de overflow para que las flechas sobresalgan */
.formadores-dropdown.fully-open,
.formadores-dropdown.fully-open .info-dropdown-content {
    overflow: visible !important;
}

.formadores-dropdown .fotos-swiper {
    overflow: hidden !important;
    /* Mismo que instalaciones, ocultar slides extra */
}

/* Contenedor de sección */
.formadores-section {
    padding: 0 40px;
    /* Espacio lateral en desktop */
}

.formadores-section .fotos-carousel-section {
    position: relative;
}

/* Slides de Formadores (Imagen + Nombre) */
.formador-slide {
    box-sizing: border-box;
    flex-shrink: 0;
    width: auto;
}

/* Mobile: controlado por slidesPerView: 1.2 */

/* Tablet: ancho fijo */
@media (min-width: 600px) and (max-width: 1099px) {
    .formador-slide {
        width: 250px;
    }
}

/* Desktop 1100px+: Calcular ancho para que quepan exactamente 3 slides */
@media (min-width: 1100px) and (max-width: 1365px) {
    .formador-slide {
        /* Ancho del contenedor ~1100px, menos gaps (2 gaps de 20px = 40px), dividido 3 */
        width: calc((100% - 40px) / 3);
        max-width: 353px;
        /* Límite superior para evitar slides gigantes */
    }
}

/* Desktop 1366px+: Calcular ancho para que quepan exactamente 4 slides */
@media (min-width: 1366px) {
    .formador-slide {
        /* Ancho del contenedor, menos gaps (3 gaps de 20px = 60px), dividido 4 */
        width: calc((100% - 60px) / 4);
        max-width: 370px;
        /* Límite superior */
    }
}

.formador-img-wrapper {
    width: 100%;
    aspect-ratio: 1/1;
    /* Cuadrado */
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 15px;
}

.formador-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.formador-name {
    font-family: 'Montserrat', sans-serif;
    font-size: 16px;
    font-weight: 600;
    color: white;
    text-align: center;
    margin: 0;
}

/* Controles de navegación (Flechas) */
.formadores-controls {
    position: absolute;
    top: 40%;
    /* Un poco más arriba para centrar con la imagen, no con todo el bloque */
    transform: translateY(-50%);
    width: 100%;
    left: 0;
    pointer-events: none;
    z-index: 30 !important;
}

.formadores-controls .fotos-carousel-btn {
    pointer-events: auto;
    z-index: 30 !important;
    position: absolute;
}

.formadores-controls .fotos-carousel-btn-prev {
    left: 0;
    transform: translateX(-50%);
}

.formadores-controls .fotos-carousel-btn-prev img {
    transform: rotate(180deg);
}

.formadores-controls .fotos-carousel-btn-next {
    right: 0;
    transform: translateX(50%);
}

/* Gradientes laterales (igual que instalaciones) - MOVIDO AL PADRE para evitar recorte por overflow hidden */
.formadores-dropdown .fotos-carousel-section,
.instalaciones-dropdown .fotos-carousel-section {
    position: relative;
    overflow: visible;
    /* Asegurar que el padre no recorte los gradientes */
}

.formadores-dropdown .fotos-carousel-section::before,
.instalaciones-dropdown .fotos-carousel-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: -1px;
    /* Cubrir borde izquierdo */
    width: 15%;
    height: 100%;
    background: linear-gradient(to right, rgba(1, 12, 66, 1), transparent);
    z-index: 20;
    /* Encima del swiper */
    pointer-events: none;
    /* Opcional: coincidir borde si es necesario */
}

.formadores-dropdown .fotos-carousel-section::after,
.instalaciones-dropdown .fotos-carousel-section::after {
    content: '';
    position: absolute;
    top: 0;
    right: -1px;
    /* Cubrir borde derecho */
    width: 15%;
    height: 100%;
    background: linear-gradient(to left, rgba(1, 12, 66, 1), transparent);
    z-index: 20;
    /* Encima del swiper */
    pointer-events: none;
    /* Opcional */
}

/* Paginación (Dots) - Solo Mobile */
.formadores-pagination {
    position: static;
    /* Debajo de las slides */
    margin-top: 20px;
    display: none;
    /* Oculto por defecto (desktop) */
}

.swiper-pagination-bullet {
    background: white;
    opacity: 0.5;
}

.swiper-pagination-bullet-active {
    opacity: 1;
    background: #65E09C;
    /* Verde ITCA */
}

/* Ajustes Mobile */
@media (max-width: 599px) {
    .formadores-section {
        padding: 0;
        /* Sin padding lateral en mobile */
    }

    .formadores-controls {
        display: none;
        /* Ocultar flechas en mobile */
    }

    .formadores-pagination {
        display: flex;
        justify-content: center;
    }

    .formador-slide {
        /* Width: ~85% para intentar asegurar que se vea un borde del siguiente */
        width: 85vw;
        max-width: 300px;
        /* Limite razonable para que en 599px no sea gigante */
    }

    .formador-img-wrapper {
        aspect-ratio: 313 / 258;
    }
}

/* =========================================
   Sección Métricas (Info)
   ========================================= */
.info-metrics-section {
    background-color: #02115A;
    /* Azul oscuro corporativo */
    padding: 80px 0;
    /* Espaciado generoso */
    width: 100%;
}



.metrics-grid {
    width: 100%;
    max-width: clamp(1100px, 85vw, 1557px);
    /* Ancho idéntico al Header nav */
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    /* 4 columnas iguales en desktop */
    gap: 40px;
    align-items: start;
    /* Alinear al inicio para que el texto fluya */
}

.metric-item {
    text-align: center;
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Número grande Verde */
.metric-number {
    font-family: 'Montserrat', sans-serif;
    font-weight: 800;
    /* ExtraBold */
    color: #65E09C;
    /* Verde ITCA */
    margin: 0 0 10px 0;
    line-height: 1;
    /* Fluido: 50px en mobile -> 90px en desktop grande */
    font-size: clamp(50px, 5vw, 90px);
}

/* Título Blanco Bold */
.metric-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    /* Bold */
    font-size: clamp(20px, 2vw, 26px);
    /* Fluido */
    color: white;
    margin: 0 0 15px 0;
    line-height: 1.2;
}

/* Texto descriptivo Regular */
.metric-text {
    font-family: 'Montserrat', sans-serif;
    font-weight: 400;
    /* Regular */
    font-size: clamp(14px, 1.2vw, 17px);
    /* Fluido */
    line-height: 1.5;
    color: white;
    margin: 0;
    max-width: 90%;
    /* Evitar líneas muy largas */
}

.metric-text strong {
    font-weight: 700;
}

/* Responsive */
@media (max-width: 1099px) {
    .metrics-grid {
        grid-template-columns: repeat(2, 1fr);
        /* 2 columnas en tablet */
        gap: 60px 30px;
        /* Más espacio vertical entre filas */
    }
}

@media (max-width: 599px) {
    .info-metrics-section {
        padding: 50px 0;
    }

    .metrics-grid {
        grid-template-columns: 1fr;
        /* 1 columna en mobile */
        gap: 50px;
        padding: 0 20px;
        /* Alineado con los dropdowns */
        box-sizing: border-box;
    }

    .metric-number {
        /* Fluidez: ~45px en 320px -> 60px en 430px */
        font-size: clamp(45px, calc(45px + (60 - 45) * ((100vw - 320px) / 110)), 60px);
        margin-bottom: 5px;
    }

    .metric-title {
        /* Fluidez: ~16px en 320px -> 20px en 430px */
        font-size: clamp(16px, calc(16px + (20 - 16) * ((100vw - 320px) / 110)), 20px);
        margin-bottom: 12px;
    }

    .metric-text {
        /* Fluidez: 12px en 320px -> 15px en 430px */
        font-size: clamp(12px, calc(12px + (15 - 12) * ((100vw - 320px) / 110)), 15px);
        line-height: 1.5;
        max-width: 250px;
    }
}

/* =========================================
   Sección Categorías (Motores, Autos, etc)
   ========================================= */
.categorias-section {
    background-color: #010C42;
    /* Azul oscuro (Header) */
    padding: 80px 0;
    width: 100%;
}

.categorias-grid {
    width: 100%;
    max-width: clamp(1100px, 85vw, 1557px);
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 40px;
    padding: 0;
    box-sizing: border-box;
}

/* Flip Card Container */
.categoria-card {
    background-color: transparent;
    perspective: 1000px;
    width: 100%;
    aspect-ratio: 375/382;
}

/* Inner Container */
.categoria-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    border-radius: 20px;
}

/* Flipped State (Click to Toggle) */
.categoria-card.is-flipped .categoria-card-inner {
    transform: rotateY(180deg);
}

/* Front and Back common styles */
.categoria-card-front,
.categoria-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    border-radius: 20px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

/* Front Face */
.categoria-card-front {
    background-color: #02115A;
}

/* Back Face */
.categoria-card-back {
    background-color: #65E09C;
    /* Verde ITCA */
    color: #000000;
    transform: rotateY(180deg);
    /* justify-content removido, margins controlan spacing */
}

/* Back Description */
.categoria-desc {
    padding: 0 30px;
    margin: auto 0;
    font-family: 'Montserrat', sans-serif;
    font-weight: 400;
    /* Fluido: 12px min -> 18px max */
    font-size: clamp(12px, 1.1vw, 18px);
    line-height: 1.6;
    text-align: center;
}

.categoria-desc strong {
    font-weight: 800;
}

/* Image Wrapper (Front) */
.categoria-img-wrapper {
    width: 100%;
    flex: 1;
    position: relative;
    background-color: #02115A;
}

.categoria-img-wrapper img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* Label (Shared Front/Back style) */
.categoria-label {
    background-color: #65E09C;
    color: #000000;
    font-family: 'Montserrat', sans-serif;
    font-weight: 800;
    text-align: center;
    padding: 15px 10px;
    text-transform: uppercase;
    /* Fluido: 14px en mobile -> 30px en desktop */
    font-size: clamp(14px, 2vw, 30px);
    line-height: 1.2;
    width: 100%;
    box-sizing: border-box;
}

/* Responsive */
@media (max-width: 1099px) {
    .categorias-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 30px;
        max-width: 530px;
        /* (250px * 2) + 30px gap = 530px */
        margin: 0 auto;
        padding: 0;
    }
}

@media (max-width: 599px) {
    .categorias-section {
        padding: 50px 0;
    }

    .categorias-grid {
        grid-template-columns: 1fr;
        gap: 40px;
        padding: 0 20px;
    }

    .categoria-card {
        aspect-ratio: 375/231;
    }

    /* Calibración Contenidos Mobile */

    /* En mobile, el back tiene el título arriba. Usamos column-reverse ya que en el HTML está abajo (shared structure) */
    .categoria-card-back {
        flex-direction: column-reverse;
        justify-content: flex-end;
        /* Alinear contenido arriba visualmente */
    }

    /* Estilo Específico FRONT: Grande, centrado, fondo verde */
    .categoria-label-front {
        font-family: 'Montserrat', sans-serif;
        font-weight: 800;
        /* ExtraBold */
        font-size: 25px;
        /* Fijo 25px como pedido */
        padding: 15px 10px;
        line-height: 1.2;
        background-color: #65E09C;
        /* Verde ITCA */
        color: #000000;
        margin-top: auto;
        /* Pegado al fondo */
        display: flex;
        justify-content: center;
        align-items: center;
        /* Centrado vertical del texto */
        width: 100%;
        text-align: center;
    }

    /* Estilo Específico BACK: Chico, arriba, fondo transparente (integrado) */
    .categoria-label-back {
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        /* SemiBold */
        /* Fluidez: ~13px en 320px -> 15px en 430px */
        font-size: clamp(13px, calc(13px + (15 - 13) * ((100vw - 320px) / 110)), 15px);
        padding: 15px 10px 5px;
        /* Ajuste padding para que quede bien arriba */
        line-height: 1.2;
        margin: 0 !important;
        /* Reset margin auto */
        background-color: transparent;
        /* Integrado al fondo verde del back */
        color: #000000;
        width: 100%;
        text-align: center;
    }

    .categoria-desc {
        font-family: 'Montserrat', sans-serif;
        font-weight: 400;
        /* Regular */
        /* Fluidez: ~13px en 320px -> 15px en 430px (Igual que el título) */
        font-size: clamp(13px, calc(13px + (15 - 13) * ((100vw - 320px) / 110)), 15px);
        margin: 5px auto 0;
        max-width: 90%;
        line-height: 1.4;
    }

    .categoria-cta {
        margin-top: auto;
        margin-bottom: 20px;
        font-size: 14px;
        padding: 10px 20px;
    }
}

/* Control de visibilidad de carruseles Fotos */
/* Por defecto (Mobile first o explícito) */
.fotos-desktop {
    display: none;
}

.fotos-mobile {
    display: block;
}

/* A partir de 600px (Tablet y Desktop), mostrar versión Desktop (Swiper) */
@media (min-width: 600px) {
    .fotos-desktop {
        display: block;
    }

    .fotos-mobile {
        display: none;
    }
}

/* CTA Decide Section */
.cta-decide-section {
    background-color: #02115A;
    padding: 60px 0;
    width: 100%;
}

.cta-decide-text {
    width: 100%;
    margin: 0;
    text-align: center;
    color: #ffffff;
    font-family: 'Montserrat', sans-serif;
    font-weight: 400;
    /* Fluido: 20px -> 26px */
    font-size: clamp(20px, 2.5vw, 26px);
    line-height: 1.4;
}

.cta-decide-text strong {
    font-weight: 700;
}

/* CTA Row Items */
.cta-actions-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 30px;
    margin-top: 40px;
    width: 100%;
    overflow: hidden;
    /* Evitar scroll horizontal si stripes se pasa */
}

/* Arrow Image (Izquierda) */
.cta-arrow-wrapper {
    flex-shrink: 1;
}

.cta-arrow-img {
    /* Fluido 255px en 1920 -> 13.2vw */
    width: 13.2vw;
    min-width: 150px;
    max-width: 255px;
    height: auto;
    display: block;
}

/* Button (Centro) */
.cta-chat-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    background-color: rgba(255, 255, 255, 0.15);
    /* 15% opacity white fill */
    border: 2px solid #65E09C;
    /* Stroke color */
    border-radius: 49px;
    padding: 15px 40px;
    color: #65E09C;
    font-family: 'Montserrat', sans-serif;
    font-weight: 400;
    /* Fluido: 21px en 1920 -> hacia 1100. 16px min */
    font-size: clamp(16px, 1.1vw, 21px);
    white-space: nowrap;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.cta-chat-btn strong {
    font-weight: 700;
    margin-right: 5px;
}

.cta-chat-btn:hover {
    background-color: rgba(255, 255, 255, 0.25);
    transform: scale(1.05);
}

/* Stripes Image (Derecha) */
.cta-stripes-wrapper {
    flex-shrink: 1;
}

.cta-stripes-img {
    /* Fluido 79px en 1920 -> 4.1vw */
    width: 4.1vw;
    min-width: 40px;
    max-width: 79px;
    height: auto;
    display: block;
}

/* Basic Responsive */
@media (min-width: 600px) and (max-width: 1099px) {
    .cta-actions-row {
        flex-direction: row;
        gap: 20px;
        justify-content: center;
    }

    .cta-arrow-img {
        width: 80px;
        min-width: 0;
        /* Override global min-width */
    }

    .cta-stripes-img {
        width: 50px;
        min-width: 0;
        /* Override global min-width */
    }
}

@media (max-width: 599px) {
    .cta-actions-row {
        flex-direction: column;
        gap: 30px;
    }

    .cta-arrow-wrapper,
    .cta-stripes-wrapper {
        display: none;
    }

    .cta-chat-btn {
        padding: 15px 20px;
        /* Ajuste de padding para mobile */
        white-space: normal;
    }

    /* Aplicar tamaño fluido a las partes del texto independientemente para permitir control */
    .cta-chat-btn strong,
    .cta-text-mobile {
        /* Fluidez: ~16px en 320px -> 21px en 430px */
        font-size: clamp(16px, calc(16px + (21 - 16) * ((100vw - 320px) / 110)), 21px);
    }

    .cta-text-desktop {
        display: none;
    }

    .cta-text-mobile {
        display: inline;
    }
}

/* Default state for text toggle (Desktop) */
@media (min-width: 600px) {
    .cta-text-mobile {
        display: none;
    }
}



/* Ocultar texto específico en mobile */
.mobile-hidden-text {
    display: none;
}

/* Reordenamiento de Instalaciones en Mobile */
.instalaciones-dropdown-content {
    display: flex !important;
    flex-direction: column !important;
}

.mobile-order-1 {
    order: 1 !important;
}

.mobile-order-2 {
    order: 2 !important;
    margin-top: 0 !important;
    /* Resetear margin top si tuviera */
    margin-bottom: 20px !important;
    /* Dar espacio antes del carrusel */
}

.mobile-order-3 {
    order: 3 !important;
}

.partners-section {
    background-color: #010C42 !important;
    /* Azul oscuro exclusivo para Somos ITCA mobile */
}

.contacto-section {
    background-color: #02115A !important;
}

.contacto-tercio.contacto-contacto,
.contacto-tercio.contacto-sedes {
    background-color: #02115A !important;
}

/* Mostrar controles personalizados mobile */
.mobile-only-controls {
    display: flex !important;
}

/* Ocultar paginación default swiper (puntitos) */
.swiper-pagination-bullets {
    display: none !important;
}

/* Imagen fluida para flechas mobile */
.mobile-control-img {
    width: clamp(30px, 8vw, 42px) !important;
    height: clamp(30px, 8vw, 42px) !important;
    /* Optimización de renderizado para evitar pixelación/borrosidad en escalas */
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform: translateZ(0);
    /* Forzar aceleración GPU */
    -webkit-font-smoothing: antialiased;
    image-rendering: -webkit-optimize-contrast;
    /* Crucial para nitidez en PNGs escalados */
}

.fotos-arrow-left.mobile-control-img {
    transform: rotate(180deg) translateZ(0);
}


/* Ocultar controles mobile en desktop */
@media (min-width: 600px) {
    .mobile-only-controls {
        display: none !important;
    }
}